import{r as n,e as h,j as s,s as d,g as o,B as l}from"./index-i8eKKiF-.js";const u=()=>{const[a,x]=n.useState([]),c=h(),i=t=>{c(d(!0)),o.get("/api/user/getAllUsers",{withCredentials:!0}).then(e=>{if(e.status===200)x(e.data),c(d(!1));else throw new Error("Unexpected response")}).catch(e=>{l.error(e.response.data.msg),c(d(!1))})},m=t=>{window.confirm("Are you sure you want to delete?")&&o.delete("/api/user/deleteUser",{withCredentials:!0,data:{id:t}}).then(r=>{r.status===200&&(l.success(r.data.msg),i())}).catch(r=>{l.error(r.response.data.msg)})};return n.useEffect(()=>{i()},[]),s.jsx("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default sm:px-7.5 xl:pb-1",children:s.jsx("div",{className:"max-w-full overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-2 text-left",children:[s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack  xl:pl-11",children:"S No."}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Photo"}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Name"}),s.jsx("th",{className:"min-w-[150px] py-4 px-4 font-medium text-lighterBlack ",children:"Email"}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Gender"}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Actions"})]})}),s.jsx("tbody",{children:a==null?void 0:a.map((t,e)=>s.jsxs("tr",{className:"border-b border-[#eee]",children:[s.jsx("td",{className:"py-5 px-2 pl-9 xl:pl-11",children:s.jsx("h5",{className:"font-medium text-lighterBlack",children:e+1})}),s.jsx("td",{className:"py-5 px-4",children:s.jsx("img",{className:"w-12 h-12 flex items-center justify-center bg-gray-300 rounded-full overflow-hidden",src:t==null?void 0:t.photo,alt:"user photo"})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsxs("p",{className:"text-lighterBlack",children:[t==null?void 0:t.firstname," ",t==null?void 0:t.lastname]})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsx("p",{className:"text-lighterBlack",children:t==null?void 0:t.email})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsx("p",{className:"text-lighterBlack",children:t==null?void 0:t.gender})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsx("button",{className:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",onClick:()=>{m(t==null?void 0:t._id)},children:"Remove"})})]},e))})]})})})};export{u as default};
