import{r as b,j as e,c as Y,d as $,e as k,f as C,_ as F,s as p,g as D,B as w}from"./index-3wsjcOLj.js";const v=({category:r,handleAdd:x,handleDelete:i,handleMultipleInputChange:o})=>{const[d,m]=b.useState([{id:1}]),h=()=>{m(t=>[...t,{id:Date.now()}])},g=t=>{d.length>1&&m(d.filter(a=>a.id!==t))};return e.jsxs("div",{className:"max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:r==="edu"?"Education":"Experience"}),d.map(t=>e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`startYear_${r}_${t.id}`,className:"text-gray-700",children:"Start Year"}),e.jsx("input",{type:"number",id:`startYear_${r}_${t.id}`,value:t.startYear,onChange:a=>{o(r,t.id,"startYear",a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`endYear_${r}_${t.id}`,className:"text-gray-700",children:"End Year"}),e.jsx("input",{type:"number",id:`endYear_${r}_${t.id}`,value:t.endYear,onChange:a=>{o(r,t.id,"endYear",a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`degree_${r}_${t.id}`,className:"text-gray-700",children:r==="edu"?"Degree":"Designation"}),e.jsx("input",{type:"text",id:`degree_${r}_${t.id}`,value:t.degree,onChange:a=>{const u=r==="edu"?"degree":"designation";o(r,t.id,u,a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`place_${r}_${t.id}`,className:"text-gray-700",children:r==="edu"?"College":"Place"}),e.jsx("input",{type:"text",id:`place_${r}_${t.id}`,value:t.college,onChange:a=>{const u=r==="edu"?"college":"place";o(r,t.id,u,a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),d.length>1&&e.jsx("div",{onClick:a=>{g(t.id),i(r,t.id)},className:"bg-red-600 text-white w-10 h-10 flex items-center justify-center rounded-full cursor-pointer",children:e.jsx(Y,{size:20})})]},t.id+100)),e.jsxs("button",{onClick:t=>{h(),x(r)},className:"bg-green-500 text-white px-4 py-2 rounded-md mt-4",children:["Add ",r==="edu"?"Education":"Experience"]})]})},A=()=>{const[r,x]=b.useState([{id:1,startYear:"",endYear:"",designation:"",place:""}]),[i,o]=b.useState([{id:1,startYear:"",endYear:"",degree:"",college:""}]),[d,m]=b.useState({specialization:"",experience:0,fees:0,clinicAddress:"",starttime:"",endtime:"",bio:"",education:[],work:[]}),h=$(),g=k(),{loading:t}=C(s=>s.root),a=s=>{m({...d,[s.target.name]:s.target.value})},u=s=>{s==="edu"?o([...i,{id:Date.now(),startYear:"",endYear:"",degree:"",college:""}]):x([...r,{id:Date.now(),startYear:"",endYear:"",designation:"",place:""}])},f=(s,l)=>{s==="edu"?i.length>1&&o(i.filter(n=>n.id!==l)):r.length>1&&x(r.filter(n=>n.id!==l))},j=(s,l,n,y)=>{s==="edu"?o(i.map(c=>c.id===l?{...c,[n]:y}:c)):x(r.map(c=>c.id===l?{...c,[n]:y}:c))},N=()=>{for(let s=0;s<r.length;s++){const{id:l,...n}=r[s];d.work.push(n)}for(let s=0;s<i.length;s++){const{id:l,...n}=i[s];d.education.push(n)}},_=async s=>{s.preventDefault(),N(),g(p(!0)),D.post("http://localhost:7000/api/doctor/apply",d,{withCredentials:!0}).then(l=>{if(l.status===201)w.success(l.data.msg),g(p(!1)),h("/home");else throw new Error("Unexpected response")}).catch(l=>{g(p(!1)),w.error(l.response.data.msg)})};return e.jsxs("section",{className:"max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md ",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-700 capitalize ",children:"Enter your details"}),e.jsx("form",{onSubmit:_,children:e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"specialization",className:"text-gray-700",children:"Specialization"}),e.jsx("input",{type:"text",id:"specialization",name:"specialization",value:d.specialization,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"clinicAddress",className:"text-gray-700",children:"Clinic Address"}),e.jsx("input",{type:"text",id:"clinicAddress",name:"clinicAddress",value:d.clinicAddress,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fees",className:"text-gray-700",children:"Fees"}),e.jsx("input",{type:"number",id:"fees",name:"fees",value:d.fees,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"experience",className:"text-gray-700",children:"Experience"}),e.jsx("input",{type:"number",id:"experience",name:"experience",value:d.experience,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"starttime",className:"text-gray-700",children:"Start Time"}),e.jsx("input",{type:"time",id:"starttime",name:"starttime",value:d.starttime,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-mdfocus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endtime",className:"text-gray-700 ",children:"End time"}),e.jsx("input",{type:"time",id:"endtime",name:"endtime",value:d.endtime,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md  focus:border-blue-500 :outline-none focus:ring"})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{htmlFor:"bio",className:"text-gray-700",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",value:d.bio,onChange:a,rows:"3",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring"})]})]}),e.jsx(v,{category:"edu",handleMultipleInputChange:j,handleAdd:u,handleDelete:f}),e.jsx(v,{category:"exp",handleMultipleInputChange:j,handleAdd:u,handleDelete:f}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{className:"px-12 py-2 leading-5 text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",children:t?e.jsx(F,{size:20,color:"#ffffff"}):"Submit"})})]})})]})};export{A as default};
