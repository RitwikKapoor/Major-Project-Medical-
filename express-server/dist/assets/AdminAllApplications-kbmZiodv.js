import{r as l,e as h,j as s,s as o,g as d,B as r}from"./index-3wsjcOLj.js";const f=()=>{const[c,x]=l.useState([]),i=h(),n=t=>{i(o(!0)),d.get("http://localhost:7000/api/doctor/pending",{withCredentials:!0}).then(e=>{if(e.status===200)x(e.data),i(o(!1));else throw new Error("Unexpected response")}).catch(e=>{r.error(e),i(o(!1))})},p=t=>{window.confirm("Are you sure you want to accept?")&&d.put("http://localhost:7000/api/doctor/accept",{id:t},{withCredentials:!0}).then(a=>{a.status===200&&(r.success(a.data.msg),n())}).catch(a=>{r.error(a.response.data.msg)})},m=t=>{window.confirm("Are you sure you want to reject?")&&d.delete("http://localhost:7000/api/doctor/reject",{withCredentials:!0,data:{id:t}}).then(a=>{a.status===200&&(r.success(a.data.msg),n())}).catch(a=>{r.error(a.response.data.msg)})};return l.useEffect(()=>{n()},[]),s.jsx("div",{className:"rounded-sm border border-stroke bg-white px-5 pt-6 pb-2.5 shadow-default sm:px-7.5 xl:pb-1",children:s.jsx("div",{className:"max-w-full overflow-x-auto",children:s.jsxs("table",{className:"w-full table-auto",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-2 text-left",children:[s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack  xl:pl-11",children:"SNo."}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Name"}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Fees"}),s.jsx("th",{className:"min-w-[150px] py-4 px-4 font-medium text-lighterBlack ",children:"Email"}),s.jsx("th",{className:"py-4 px-4 font-medium text-lighterBlack ",children:"Specialization"}),s.jsx("th",{className:"min-w-[100px] py-4 px-4 font-medium text-lighterBlack ",children:"Status"})]})}),s.jsx("tbody",{children:c==null?void 0:c.map((t,e)=>s.jsxs("tr",{className:"border-b border-[#eee]",children:[s.jsx("td",{className:"py-5 px-2 pl-9 xl:pl-11",children:s.jsx("h5",{className:"font-medium text-lighterBlack",children:e+1})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsxs("p",{className:"text-lighterBlack",children:[t==null?void 0:t.userId.firstname," ",t==null?void 0:t.userId.lastname]})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsx("p",{className:"text-lighterBlack",children:t==null?void 0:t.fees})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsx("p",{className:"text-lighterBlack",children:t==null?void 0:t.userId.email})}),s.jsx("td",{className:"py-5 px-4 ",children:s.jsx("p",{className:"text-lighterBlack",children:t==null?void 0:t.specialization})}),s.jsxs("td",{className:"py-5 px-4 flex items-center space-x-2",children:[s.jsx("button",{className:"ext-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",onClick:()=>{p(t==null?void 0:t.userId._id)},children:"Accept"}),s.jsx("button",{className:"text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2",onClick:()=>{m(t==null?void 0:t.userId._id)},children:"Reject"})]})]},e))})]})})})};export{f as default};
