import{r as b,j as e,c as Y,d as $,e as k,f as C,_ as F,s as p,g as D,B as w}from"./index-i8eKKiF-.js";const v=({category:r,handleAdd:x,handleDelete:i,handleMultipleInputChange:o})=>{const[d,m]=b.useState([{id:1}]),h=()=>{m(s=>[...s,{id:Date.now()}])},g=s=>{d.length>1&&m(d.filter(a=>a.id!==s))};return e.jsxs("div",{className:"max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:r==="edu"?"Education":"Experience"}),d.map(s=>e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:`startYear_${r}_${s.id}`,className:"text-gray-700",children:"Start Year"}),e.jsx("input",{type:"number",id:`startYear_${r}_${s.id}`,value:s.startYear,onChange:a=>{o(r,s.id,"startYear",a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`endYear_${r}_${s.id}`,className:"text-gray-700",children:"End Year"}),e.jsx("input",{type:"number",id:`endYear_${r}_${s.id}`,value:s.endYear,onChange:a=>{o(r,s.id,"endYear",a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`degree_${r}_${s.id}`,className:"text-gray-700",children:r==="edu"?"Degree":"Designation"}),e.jsx("input",{type:"text",id:`degree_${r}_${s.id}`,value:s.degree,onChange:a=>{const u=r==="edu"?"degree":"designation";o(r,s.id,u,a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:`place_${r}_${s.id}`,className:"text-gray-700",children:r==="edu"?"College":"Place"}),e.jsx("input",{type:"text",id:`place_${r}_${s.id}`,value:s.college,onChange:a=>{const u=r==="edu"?"college":"place";o(r,s.id,u,a.target.value)},required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring"})]}),d.length>1&&e.jsx("div",{onClick:a=>{g(s.id),i(r,s.id)},className:"bg-red-600 text-white w-10 h-10 flex items-center justify-center rounded-full cursor-pointer",children:e.jsx(Y,{size:20})})]},s.id+100)),e.jsxs("button",{onClick:s=>{h(),x(r)},className:"bg-green-500 text-white px-4 py-2 rounded-md mt-4",children:["Add ",r==="edu"?"Education":"Experience"]})]})},A=()=>{const[r,x]=b.useState([{id:1,startYear:"",endYear:"",designation:"",place:""}]),[i,o]=b.useState([{id:1,startYear:"",endYear:"",degree:"",college:""}]),[d,m]=b.useState({specialization:"",experience:0,fees:0,clinicAddress:"",starttime:"",endtime:"",bio:"",education:[],work:[]}),h=$(),g=k(),{loading:s}=C(t=>t.root),a=t=>{m({...d,[t.target.name]:t.target.value})},u=t=>{t==="edu"?o([...i,{id:Date.now(),startYear:"",endYear:"",degree:"",college:""}]):x([...r,{id:Date.now(),startYear:"",endYear:"",designation:"",place:""}])},f=(t,n)=>{t==="edu"?i.length>1&&o(i.filter(l=>l.id!==n)):r.length>1&&x(r.filter(l=>l.id!==n))},j=(t,n,l,y)=>{t==="edu"?o(i.map(c=>c.id===n?{...c,[l]:y}:c)):x(r.map(c=>c.id===n?{...c,[l]:y}:c))},N=()=>{for(let t=0;t<r.length;t++){const{id:n,...l}=r[t];d.work.push(l)}for(let t=0;t<i.length;t++){const{id:n,...l}=i[t];d.education.push(l)}},_=async t=>{t.preventDefault(),N(),g(p(!0)),D.post("/api/doctor/apply",d,{withCredentials:!0}).then(n=>{if(n.status===201)w.success(n.data.msg),g(p(!1)),h("/home");else throw new Error("Unexpected response")}).catch(n=>{g(p(!1)),w.error(n.response.data.msg)})};return e.jsxs("section",{className:"max-w-4xl p-6 mx-auto bg-white rounded-md shadow-md ",children:[e.jsx("h1",{className:"text-lg font-semibold text-gray-700 capitalize ",children:"Enter your details"}),e.jsx("form",{onSubmit:_,children:e.jsxs("div",{children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"specialization",className:"text-gray-700",children:"Specialization"}),e.jsx("input",{type:"text",id:"specialization",name:"specialization",value:d.specialization,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded focus:border-blue-500 focus:outline-none focus:ring "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"clinicAddress",className:"text-gray-700",children:"Clinic Address"}),e.jsx("input",{type:"text",id:"clinicAddress",name:"clinicAddress",value:d.clinicAddress,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring "})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fees",className:"text-gray-700",children:"Fees"}),e.jsx("input",{type:"number",id:"fees",name:"fees",value:d.fees,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"experience",className:"text-gray-700",children:"Experience"}),e.jsx("input",{type:"number",id:"experience",name:"experience",value:d.experience,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"starttime",className:"text-gray-700",children:"Start Time"}),e.jsx("input",{type:"time",id:"starttime",name:"starttime",value:d.starttime,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-mdfocus:border-blue-500 focus:outline-none focus:ring"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"endtime",className:"text-gray-700 ",children:"End time"}),e.jsx("input",{type:"time",id:"endtime",name:"endtime",value:d.endtime,onChange:a,required:!0,className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md  focus:border-blue-500 :outline-none focus:ring"})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{htmlFor:"bio",className:"text-gray-700",children:"Bio"}),e.jsx("textarea",{id:"bio",name:"bio",value:d.bio,onChange:a,rows:"3",className:"block w-full px-4 py-2 mt-2 text-gray-700 bg-white border border-gray-300 rounded-md focus:border-blue-500 focus:outline-none focus:ring"})]})]}),e.jsx(v,{category:"edu",handleMultipleInputChange:j,handleAdd:u,handleDelete:f}),e.jsx(v,{category:"exp",handleMultipleInputChange:j,handleAdd:u,handleDelete:f}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{className:"px-12 py-2 leading-5 text-white transition-colors duration-200 transform bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600",children:s?e.jsx(F,{size:20,color:"#ffffff"}):"Submit"})})]})})]})};export{A as default};
